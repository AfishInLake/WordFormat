
---

## 🏫 一、`school_info`：学校与文档基本信息
用于标识论文所属机构和类型。

| 字段 | 类型 | 说明 |
|------|------|------|
| `name` | `str?` | 学校全称，如 `"北京大学"`。可选。 |
| `document_type` | `enum?` | 文档类型，只能是以下之一：• `"毕业论文"`• `"毕业设计说明书"`• `"学位论文"` |
| `level` | `enum`（必填） | 学位层次，必须填写：• `"本科"`• `"硕士"`• `"博士"` |
| `year` | `int?` | 格式适用年份，如 `2025`，用于区分不同年份的格式微调。 |

---

## 📐 二、`global_format`：全局页面格式
控制整篇文档的物理排版。

| 字段 | 类型 | 说明 |
|------|------|------|
| `paper_size` | `enum?` | 纸张大小，默认 A4。可选值如 `"A4"`, `"B5"`。 |
| `orientation` | `enum?` | 页面方向，默认纵向（`"portrait"`），也可为横向（`"landscape"`）。 |
| `margin` | 对象 | 页边距（单位：毫米 mm） |
| &nbsp;&nbsp;`top_mm` | `float?` | 上边距 |
| &nbsp;&nbsp;`bottom_mm` | `float?` | 下边距 |
| &nbsp;&nbsp;`left_mm` | `float?` | 左边距 |
| &nbsp;&nbsp;`right_mm` | `float?` | 右边距 |
| `line_spacing` | `float?` | 行距倍数，如 `1.5` 表示 1.5 倍行距。 |
| `print_side` | `enum?` | 打印方式：• `"single"`（单面）• `"double"`（双面） |
| `binding_side` | `enum?` | 装订侧：• `"left"`（左侧装订，常见）• `"top"`（顶部装订，如某些报告） |

---

## 📄 三、`cover`：封面格式
控制封面文字样式。

| 字段 | 说明 |
|------|------|
| `title` | 论文标题格式 |
| &nbsp;&nbsp;`font` | 字体，如 `"黑体"` |
| &nbsp;&nbsp;`size_pt` | 字号（磅），如 `22` |
| &nbsp;&nbsp;`alignment` | 对齐方式：`"left"` / `"center"` / `"right"` |
| &nbsp;&nbsp;`max_chars` | 标题最大字符数限制（防过长） |
| `school_line` | 学校名称行（通常在封面底部）的字体、字号、对齐方式 |

---

## 📝 四、`abstract`：摘要部分
中英文摘要及关键词的格式要求。

### 中文摘要 (`chinese`)
| 字段 | 说明 |
|------|------|
| `section_title` | 摘要标题文字，如 `"摘要"` |
| `title_font` / `title_size_pt` | 标题字体和字号 |
| `content_font` / `content_size_pt` | 摘要正文的字体和字号 |
| `max_words` | 中文摘要最大字数（按“字”计） |

### 英文摘要 (`english`)
同上，但用于 `"Abstract"` 部分，`max_words` 按英文单词计。

### 关键词 (`keywords`)
| 字段 | 说明 |
|------|------|
| `count_min` / `count_max` | 关键词数量范围，如 3~5 个 |
| `separator` | 分隔符，如 `"；"`（中文）或 `"; "`（英文） |
| `allow_custom` | 是否允许自造词（非标准术语） |

---

## 📚 五、`toc`：目录（Table of Contents）
| 字段 | 说明 |
|------|------|
| `section_title` | 目录页标题，如 `"目　录"` |
| `levels` | 显示到第几级标题（如 `3` 表示含 1.1.1） |
| `numbering_style` | 编号风格：• `"chinese_chapter"` → “第一章”• `"arabic_dot"` → “1.1”• `"parentheses"` → “(1)”• `"custom"` → 自定义 |
| `auto_generated` | 是否要求用 Word/LaTeX 自动生成（禁止手打目录） |

---

## 🔠 六、`headings`：各级标题格式
控制章节标题样式。

| 级别 | 说明 |
|------|------|
| `level_1` | 一级标题（如“第一章 绪论”） |
| &nbsp;&nbsp;`prefix_pattern` | 编号模板，如 `"第X章"` 或 `"1"`（X 自动替换为数字） |
| &nbsp;&nbsp;`font` / `size_pt` | 字体字号 |
| &nbsp;&nbsp;`page_break_before` | 是否强制分页（新章从新页开始） |
| &nbsp;&nbsp;`spacing_before_lines` | 标题前空多少行 |
| &nbsp;&nbsp;`spacing_after_lines` | 标题后空多少行 |
| `level_2` / `level_3` | 二级、三级标题，类似，但通常无分页要求 |

---

## 📖 七、`body_text`：正文段落格式
这是普通段落的核心设置。

| 字段 | 说明 |
|------|------|
| `font` | 正文字体，如 `"宋体"` |
| `size_pt` | 正文字号，如 `12` |
| `paragraph_spacing_before` | 段前间距（以“行”为单位，如 `0.5`） |
| `paragraph_spacing_after` | 段后间距（同上） |

> ⚠️ 注意：**首行缩进、对齐方式**等未在此 Schema 中定义，需通过 `special_rules` 补充或默认处理。

---

## 🖼️ 八、`figures`：插图格式
| 字段 | 说明 |
|------|------|
| `caption_position` | 图注位置：`"above"`（图上）或 `"below"`（图下） |
| `caption_prefix` | 图编号前缀，如 `"图"` → “图1-1” |
| `caption_numbering` | 编号范围：• `"per_document"`（全文连续）• `"per_chapter"`（每章重置） |
| `caption_font` / `size_pt` | 图注字体字号 |
| `require_label` | 是否强制要求有图名（不能只有编号） |

---

## 📊 九、`tables`：表格格式
与 `figures` 类似，但针对表格。

| 字段 | 说明 |
|------|------|
| `caption_position` | 表注通常在**上方**（学术惯例） |
| `caption_prefix` | 如 `"表"` → “表2-1” |
| `english_font` | 表格内英文专用字体（如 Times New Roman） |

---

## 🧮 十、`equations`：公式格式
| 字段 | 说明 |
|------|------|
| `numbering_scope` | 公式编号范围（全文 or 每章） |
| `alignment` | 公式对齐方式（通常居中） |
| `editor_required` | 指定公式编辑工具，如 `"Word公式编辑器"` 或 `"LaTeX"` |

---

## 📚 十一、`references`：参考文献
| 字段 | 说明 |
|------|------|
| `section_title` | 标题，如 `"参考文献"` |
| `min_count` | 最少引用数量 |
| `min_foreign_count` | 其中至少包含多少篇外文文献 |
| `citation_style` | 引用标准，如 `"GB/T 7714"`（中国国标）、`"APA"`、`"IEEE"` |
| `numbering_format` | 编号样式：`"[1]"`、`"(1)"`、`"1."` |
| `entry_ending_punct` | 每条末尾标点，如 `"."` |
| `author_truncation` | 多作者时省略方式：`"等"`（中文）或 `"et al."`（英文） |

---

## 🙏 十二、`acknowledgements`：致谢
| 字段 | 说明 |
|------|------|
| `section_title` | 标题，如 `"致谢"` |
| `required` | 是否必须包含（博士论文通常必有） |
| `font` / `size_pt` | 致谢部分字体字号（可能与正文不同） |

---

## 📎 十三、`appendix`：附录
| 字段 | 说明 |
|------|------|
| `naming_style` | 附录编号方式：• `"letter"` → 附录A、B• `"roman"` → 附录I、II• `"number"` → 附录1、2 |
| `section_title_prefix` | 前缀文字，如 `"附录"` |
| `internal_numbering` | 附录内的图表是否独立编号（如“图A-1”而非“图5-1”） |

---

## 📰 十四、`header_footer`：页眉页脚
### 页眉 (`header`)
| 字段 | 说明 |
|------|------|
| `start_from_section` | 从哪一节开始显示页眉（如 `"摘要"` 之后） |
| `text_template` | 模板字符串，支持变量：• `{school}` → 学校名• `{year}` → 年份• `{document_type}` → 文档类型 |
| `font` / `size_pt` / `alignment` | 页眉文字样式 |

### 页脚 - 页码 (`footer.page_number`)
| 字段 | 说明 |
|------|------|
| `start_from_section` | 从哪一节开始编页码（封面通常无页码） |
| `end_at_section` | 到哪一节结束（如附录后停止） |
| `position` | 页码位置：左/中/右 |
| `font` / `size_pt` | 页码字体字号 |
| `format` | 页码格式：• `"arabic"` → 1,2,3• `"roman"` → i,ii,iii• `"chinese"` → 一、二、三 |

---

## ⚙️ 十五、`special_rules`：特殊规则
用于补充非结构化但重要的要求。

| 字段 | 说明 |
|------|------|
| `no_citation_in_headings` | 标题中禁止出现引用标记（如 `[1]`） |
| `units_standard` | 采用的单位标准，如 `"GB3100~3102-93"`（中国法定计量单位） |
| `allowed_file_formats` | 提交文件格式限制，如 `["docx", "pdf"]` |

---
